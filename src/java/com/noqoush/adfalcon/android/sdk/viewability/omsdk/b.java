package com.noqoush.adfalcon.android.sdk.viewability.omsdk;

import android.content.Context;
import com.iab.omid.library.adfalcon.Omid;
import com.iab.omid.library.adfalcon.adsession.Partner;

public class b {
   private static boolean a;
   private static Partner b;

   public static String a() {
      return ";(function(omidGlobal) {\n  'use strict';var n;function aa(a){var b=0;return function(){return b<a.length?{done:!1,value:a[b++]}:{done:!0}}}function p(a){var b='undefined'!=typeof Symbol&&Symbol.iterator&&a[Symbol.iterator];return b?b.call(a):{next:aa(a)}}function q(a){if(!(a instanceof Array)){a=p(a);for(var b,c=[];!(b=a.next()).done;)c.push(b.value);a=c}return a}var ba='function'==typeof Object.create?Object.create:function(a){function b(){}b.prototype=a;return new b},ca;\nif('function'==typeof Object.setPrototypeOf)ca=Object.setPrototypeOf;else{var da;a:{var ea={M:!0},fa={};try{fa.__proto__=ea;da=fa.M;break a}catch(a){}da=!1}ca=da?function(a,b){a.__proto__=b;if(a.__proto__!==b)throw new TypeError(a+' is not extensible');return a}:null}var ha=ca;\nfunction r(a,b){a.prototype=ba(b.prototype);a.prototype.constructor=a;if(ha)ha(a,b);else for(var c in b)if('prototype'!=c)if(Object.defineProperties){var d=Object.getOwnPropertyDescriptor(b,c);d&&Object.defineProperty(a,c,d)}else a[c]=b[c];a.va=b.prototype}var t='undefined'!=typeof window&&window===this?this:'undefined'!=typeof global&&null!=global?global:this;function u(a,b){return Object.prototype.hasOwnProperty.call(a,b)}\nvar ia='function'==typeof Object.assign?Object.assign:function(a,b){for(var c=1;c<arguments.length;c++){var d=arguments[c];if(d)for(var e in d)u(d,e)&&(a[e]=d[e])}return a},v='function'==typeof Object.defineProperties?Object.defineProperty:function(a,b,c){a!=Array.prototype&&a!=Object.prototype&&(a[b]=c.value)};\nfunction w(a,b){if(b){var c=t;a=a.split('.');for(var d=0;d<a.length-1;d++){var e=a[d];e in c||(c[e]={});c=c[e]}a=a[a.length-1];d=c[a];b=b(d);b!=d&&null!=b&&v(c,a,{configurable:!0,writable:!0,value:b})}}w('Object.assign',function(a){return a||ia});function ja(){ja=function(){};t.Symbol||(t.Symbol=la)}function ma(a,b){this.a=a;v(this,'description',{configurable:!0,writable:!0,value:b})}ma.prototype.toString=function(){return this.a};\nvar la=function(){function a(c){if(this instanceof a)throw new TypeError('Symbol is not a constructor');return new ma('jscomp_symbol_'+(c||'')+'_'+b++,c)}var b=0;return a}();function x(){ja();var a=t.Symbol.iterator;a||(a=t.Symbol.iterator=t.Symbol('Symbol.iterator'));'function'!=typeof Array.prototype[a]&&v(Array.prototype,a,{configurable:!0,writable:!0,value:function(){return na(aa(this))}});x=function(){}}function na(a){x();a={next:a};a[t.Symbol.iterator]=function(){return this};return a}\nw('WeakMap',function(a){function b(f){this.a=(l+=Math.random()+1).toString();if(f){f=p(f);for(var h;!(h=f.next()).done;)h=h.value,this.set(h[0],h[1])}}function c(){}function d(f){if(!u(f,g)){var h=new c;v(f,g,{value:h})}}function e(f){var h=Object[f];h&&(Object[f]=function(k){if(k instanceof c)return k;d(k);return h(k)})}if(function(){if(!a||!Object.seal)return!1;try{var f=Object.seal({}),h=Object.seal({}),k=new a([[f,2],[h,3]]);if(2!=k.get(f)||3!=k.get(h))return!1;k.delete(f);k.set(h,4);return!k.has(f)&&\n4==k.get(h)}catch(m){return!1}}())return a;var g='$jscomp_hidden_'+Math.random();e('freeze');e('preventExtensions');e('seal');var l=0;b.prototype.set=function(f,h){d(f);if(!u(f,g))throw Error('WeakMap key fail: '+f);f[g][this.a]=h;return this};b.prototype.get=function(f){return u(f,g)?f[g][this.a]:void 0};b.prototype.has=function(f){return u(f,g)&&u(f[g],this.a)};b.prototype.delete=function(f){return u(f,g)&&u(f[g],this.a)?delete f[g][this.a]:!1};return b});\nw('Map',function(a){function b(){var f={};return f.u=f.next=f.head=f}function c(f,h){var k=f.a;return na(function(){if(k){for(;k.head!=f.a;)k=k.u;for(;k.next!=k.head;)return k=k.next,{done:!1,value:h(k)};k=null}return{done:!0,value:void 0}})}function d(f,h){var k=h&&typeof h;'object'==k||'function'==k?g.has(h)?k=g.get(h):(k=''+ ++l,g.set(h,k)):k='p_'+h;var m=f.b[k];if(m&&u(f.b,k))for(f=0;f<m.length;f++){var z=m[f];if(h!==h&&z.key!==z.key||h===z.key)return{id:k,list:m,index:f,m:z}}return{id:k,list:m,\nindex:-1,m:void 0}}function e(f){this.b={};this.a=b();this.size=0;if(f){f=p(f);for(var h;!(h=f.next()).done;)h=h.value,this.set(h[0],h[1])}}if(function(){if(!a||'function'!=typeof a||!a.prototype.entries||'function'!=typeof Object.seal)return!1;try{var f=Object.seal({x:4}),h=new a(p([[f,'s']]));if('s'!=h.get(f)||1!=h.size||h.get({x:4})||h.set({x:4},'t')!=h||2!=h.size)return!1;var k=h.entries(),m=k.next();if(m.done||m.value[0]!=f||'s'!=m.value[1])return!1;m=k.next();return m.done||4!=m.value[0].x||\n't'!=m.value[1]||!k.next().done?!1:!0}catch(z){return!1}}())return a;x();var g=new WeakMap;e.prototype.set=function(f,h){f=0===f?0:f;var k=d(this,f);k.list||(k.list=this.b[k.id]=[]);k.m?k.m.value=h:(k.m={next:this.a,u:this.a.u,head:this.a,key:f,value:h},k.list.push(k.m),this.a.u.next=k.m,this.a.u=k.m,this.size++);return this};e.prototype.delete=function(f){f=d(this,f);return f.m&&f.list?(f.list.splice(f.index,1),f.list.length||delete this.b[f.id],f.m.u.next=f.m.next,f.m.next.u=f.m.u,f.m.head=null,\nthis.size--,!0):!1};e.prototype.clear=function(){this.b={};this.a=this.a.u=b();this.size=0};e.prototype.has=function(f){return!!d(this,f).m};e.prototype.get=function(f){return(f=d(this,f).m)&&f.value};e.prototype.entries=function(){return c(this,function(f){return[f.key,f.value]})};e.prototype.keys=function(){return c(this,function(f){return f.key})};e.prototype.values=function(){return c(this,function(f){return f.value})};e.prototype.forEach=function(f,h){for(var k=this.entries(),m;!(m=k.next()).done;)m=\nm.value,f.call(h,m[1],m[0],this)};e.prototype[Symbol.iterator]=e.prototype.entries;var l=0;return e});w('Object.values',function(a){return a?a:function(b){var c=[],d;for(d in b)u(b,d)&&c.push(b[d]);return c}});\nw('Set',function(a){function b(c){this.a=new Map;if(c){c=p(c);for(var d;!(d=c.next()).done;)this.add(d.value)}this.size=this.a.size}if(function(){if(!a||'function'!=typeof a||!a.prototype.entries||'function'!=typeof Object.seal)return!1;try{var c=Object.seal({x:4}),d=new a(p([c]));if(!d.has(c)||1!=d.size||d.add(c)!=d||1!=d.size||d.add({x:4})!=d||2!=d.size)return!1;var e=d.entries(),g=e.next();if(g.done||g.value[0]!=c||g.value[1]!=c)return!1;g=e.next();return g.done||g.value[0]==c||4!=g.value[0].x||\ng.value[1]!=g.value[0]?!1:e.next().done}catch(l){return!1}}())return a;x();b.prototype.add=function(c){c=0===c?0:c;this.a.set(c,c);this.size=this.a.size;return this};b.prototype.delete=function(c){c=this.a.delete(c);this.size=this.a.size;return c};b.prototype.clear=function(){this.a.clear();this.size=0};b.prototype.has=function(c){return this.a.has(c)};b.prototype.entries=function(){return this.a.entries()};b.prototype.values=function(){return this.a.values()};b.prototype.keys=b.prototype.values;\nb.prototype[Symbol.iterator]=b.prototype.values;b.prototype.forEach=function(c,d){var e=this;this.a.forEach(function(g){return c.call(d,g,g,e)})};return b});w('Object.is',function(a){return a?a:function(b,c){return b===c?0!==b||1/b===1/c:b!==b&&c!==c}});w('Array.prototype.includes',function(a){return a?a:function(b,c){var d=this;d instanceof String&&(d=String(d));var e=d.length;c=c||0;for(0>c&&(c=Math.max(c+e,0));c<e;c++){var g=d[c];if(g===b||Object.is(g,b))return!0}return!1}});\nw('Object.entries',function(a){return a?a:function(b){var c=[],d;for(d in b)u(b,d)&&c.push([d,b[d]]);return c}});\nvar y={ka:'loaded',qa:'start',da:'firstQuartile',la:'midpoint',ra:'thirdQuartile',ca:'complete',ma:'pause',oa:'resume',ba:'bufferStart',aa:'bufferFinish',pa:'skipped',ta:'volumeChange',na:'playerStateChange',Y:'adUserInteraction'},oa={ga:'generic',sa:'video'},pa={L:'native',ha:'html'},qa={L:'native',ia:'javascript',NONE:'none'},sa={fa:'full',ja:'limited'},ta={$:'backgrounded',ea:'foregrounded'},ua={Z:'app',ua:'web'};function A(a,b){this.x=null!=a.x?a.x:a.left;this.y=null!=a.y?a.y:a.top;this.width=a.width;this.height=a.height;this.endX=this.x+this.width;this.endY=this.y+this.height;this.adSessionId=a.adSessionId||void 0;this.isFriendlyObstructionFor=a.isFriendlyObstructionFor||[];this.clipsToBounds=void 0!==a.clipsToBounds?!0===a.clipsToBounds:!0;this.notVisibleReason=a.notVisibleReason||void 0;this.childViews=a.childViews||[];this.isCreative=a.isCreative||!1;this.a=b}\nfunction va(a){var b={};return b.width=a.width,b.height=a.height,b}function C(a){var b={};return Object.assign({},va(a),(b.x=a.x,b.y=a.y,b))}function wa(a){var b=C(a),c={};return Object.assign({},b,(c.endX=a.endX,c.endY=a.endY,c))}function xa(a,b,c){a.x+=b;a.y+=c;a.endX+=b;a.endY+=c}A.prototype.F=function(a){if(null==a)return!1;a=C(a);var b=a.y,c=a.width,d=a.height;return this.x===a.x&&this.y===b&&this.width===c&&this.height===d};function ya(a){return a.width*a.height};function za(a,b){a=C(a);for(var c=[],d=[],e=0;e<b.length;e++){var g=C(b[e]),l=Math.max(a.y,g.y),f=Math.min(a.x+a.width,g.x+g.width),h=Math.min(a.y+a.height,g.y+g.height);Aa(c,Math.max(a.x,g.x));Aa(c,f);Aa(d,l);Aa(d,h)}c=c.sort(function(k,m){return k-m});d=d.sort(function(k,m){return k-m});return{W:c,X:d}}function Aa(a,b){-1===a.indexOf(b)&&a.push(b)};function Ba(){this.a=this.b=this.l=this.j=this.c=this.i=void 0;this.o=0;this.g=[];this.f=[];this.h=[]}Ba.prototype.F=function(a){return null==a?!1:JSON.stringify(D(this))===JSON.stringify(D(a))};\nfunction D(a){var b=[],c={viewport:a.i,adView:{percentageInView:a.o,reasons:a.h}};if(void 0!==a.b){c.adView.geometry=C(a.b);c.adView.onScreenGeometry=C(a.a);for(var d=0;d<a.f.length;d++)b.push(C(a.f[d]));c.adView.onScreenGeometry.obstructions=b;void 0!==a.j&&void 0!==a.l&&(c.adView.containerGeometry=C(a.j),c.adView.onScreenContainerGeometry=C(a.l),c.adView.measuringElement=!0)}return c}\nfunction Ca(a,b){b=va(b);a.i={};a.i.width=b.width;a.i.height=b.height;a.c={};a.c.x=0;a.c.y=0;a.c.width=b.width;a.c.height=b.height;a.c.endX=b.width;a.c.endY=b.height}function Da(){return{x:0,y:0,endX:0,endY:0,width:0,height:0}}function Ea(a,b){var c={};c.x=Math.max(a.x,b.x);c.y=Math.max(a.y,b.y);c.endX=Math.min(a.endX,b.endX);c.endY=Math.min(a.endY,b.endY);c.width=Math.max(0,c.endX-c.x);c.height=Math.max(0,c.endY-c.y);return c}function Fa(a,b){return a.width<b.width||a.height<b.height}\nfunction Ga(a){var b=ya(a.b);if(0!==b){var c=ya(a.a);var d=a.f,e=0;if(0<d.length){var g=za(a.a,d),l=g.W;g=g.X;for(var f=0;f<l.length-1;f++)for(var h=(l[f]+(l[f]+1))/2,k=l[f+1]-l[f],m=0;m<g.length-1;m++){for(var z=(g[m]+(g[m]+1))/2,ra=g[m+1]-g[m],Q=!1,R=0;R<d.length;R++){var E=C(d[R]);if(E.x<h&&E.x+E.width>h&&E.y<z&&E.y+E.height>z){Q=!0;break}}Q&&(e+=Math.round(k)*Math.round(ra))}}b=Math.round((c-e)/b*100);a.o=Math.max(b,0)}}\nfunction F(a,b){for(var c=!1,d=0;d<a.h.length;d++)a.h[d]===b&&(c=!0);c||a.h.push(b)};function Ha(a,b,c,d){var e=new Ba;b=new A(b,!1);Ca(e,b);Ia(a,b,e,d);if('backgrounded'===c)F(e,'backgrounded');else if(void 0!==e.b){for(a=0;a<e.g.length;a++){c=e.g[a];if(0!==c.width&&0!==c.height&&e.a){d=wa(e.a);b=d.y;var g=d.endX,l=d.endY;c=!(c.endX<=d.x||c.x>=g||c.endY<=b||c.y>=l)}else c=!1;if(c){a:{c=e.g[a];for(d=0;d<e.f.length;d++)if(e.f[d].F(c)){c=!0;break a}c=!1}c=!c}c&&(F(e,'obstructed'),e.f.push(e.g[a]))}Ga(e)}else F(e,'notFound');return e}\nfunction Ia(a,b,c,d){var e=b.isCreative?!0:b.adSessionId===d;if(e){c.b=b;var g=wa(c.b);a=Ea(c.c,g);var l=c.b;'notAttached'===l.notVisibleReason||'noWindowFocus'===l.notVisibleReason||'noAdView'===l.notVisibleReason?(F(c,'notFound'),c.a=new A(Da(),!1)):(l=c.b,'viewInvisible'===l.notVisibleReason||'viewGone'===l.notVisibleReason||'viewNotVisible'===l.notVisibleReason||'viewAlphaZero'===l.notVisibleReason||'viewHidden'===l.notVisibleReason||void 0!==c.b.notVisibleReason?(F(c,'hidden'),c.a=new A(Da(),\n!1)):(Fa(a,g)&&F(c,'clipped'),c.a=new A(a,!1)))}else if(g=!0,b.a&&(g=-1!==b.isFriendlyObstructionFor.indexOf(d)?!1:!1===b.clipsToBounds),g){l=b.childViews;for(var f=0;f<l.length;f++)g=void 0!==c.b,Ia(a,new A(l[f],g),c,d)}e||void 0===c.b||(b.a?-1!==b.isFriendlyObstructionFor.indexOf(d)||c.g.push(b):(e=wa(b),d=wa(c.a),C(c.a),a=c.a,0!==a.width&&0!==a.height&&b.clipsToBounds&&(b=Ea(d,e),Fa(b,d)&&(F(c,'clipped'),c.a=new A(b,!1)))))};function Ja(a,b){this.y=this.x=0;this.width=a;this.height=b};function Ka(){return{apiVersion:'1.0',accessMode:'limited',environment:'app',omidJsInfo:{omidImplementer:'omsdk',serviceVersion:'1.2.22-iab1943'}}}function La(){this.adSessionId=null;this.a=Ka();this.j='foregrounded';this.h=this.b='none';this.g=this.f=this.c=this.w=this.B=this.l=null;this.s=!0;this.o=new Map}var G;function H(){G||(G=new La);return G};function Ma(a,b){this.a=a;this.b=b}t.Object.defineProperties(Ma.prototype,{event:{configurable:!0,enumerable:!0,get:function(){return this.a}},origin:{configurable:!0,enumerable:!0,get:function(){return this.b}}});function I(a){for(var b=[],c=0;c<arguments.length;++c)b[c]=arguments[c];Na(function(){throw new (Function.prototype.bind.apply(Error,[null,'Could not complete the test successfully - '].concat(q(b))));},function(){return console.error.apply(console,q(b))})}function Oa(a){for(var b=[],c=0;c<arguments.length;++c)b[c]=arguments[c];Na(function(){},function(){return console.error.apply(console,q(b))})}\nfunction Na(a,b){'undefined'!==typeof jasmine&&jasmine?a():'undefined'!==typeof console&&console&&console.error&&b()};function Pa(){this.b=[];this.c=[];this.f=[];this.g=[];this.i={};this.a=H()}function Qa(a){a.b=[];a.c=[];a.f=[];a.g=[];a.i={};G.adSessionId=null;G.a=Ka();G.v=void 0;G.G=void 0;G.C=null;G.D=null;G.i=null;G.j='foregrounded';G.b='none';G.h='none';G.l=null;G.B=null;G.w=null;G.c=null;G.f=null;G.g=null;G.s=!0;G.o=new Map}function Ra(a,b){void 0!==a.a&&a.a.adSessionId&&!1!==Sa(b)&&a.f.filter(function(c){return c.type===b.event.type}).forEach(function(c){return a.h(c.A,b.event)})}\nfunction Ta(a,b,c){void 0!==a.a&&a.a.adSessionId&&a.b.filter(function(d){return d.event.type===b&&Sa(d)}).map(function(d){return d.event}).forEach(c)}function Sa(a){var b=a.event.type,c=-1!==Object.values(y).indexOf(b)&&'volumeChange'!==b;return'impression'===b?a.origin===H().h:c?a.origin===H().b:!0}function Ua(a,b,c){'video'===b?Va(a,c):(a.f.push({type:b,A:c}),Ta(a,b,c))}function Va(a,b){Object.keys(y).forEach(function(c){c=y[c];a.f.push({type:c,A:b});Ta(a,c,b)})}\nfunction Wa(a,b,c,d){var e={J:c,H:d,A:b};a.g.push(e);a.c.forEach(function(g){var l=Xa(g);'sessionStart'===g.event.type&&Ya(a,l,e);a.h(b,l)})}function Za(a,b,c){var d=J(a,'sessionError','native',{errorType:b,message:c});a.c.push(d);a.g.forEach(function(e){a.h(e.A,d.event)})}function $a(a,b){a.i=Object.assign(a.i,b);b=a.a.a;if(void 0!==b){var c=J(a,'sessionStart','native',{context:b});a.c.push(c);a.g.forEach(function(d){var e=d.A,g=Xa(c);Ya(a,g,d);a.h(e,g)},a);ab(a)}}\nfunction Ya(a,b,c){c.J&&(b.data.verificationParameters=a.i[c.J]);c.H&&(a=a.a.o.get(c.H))&&(b.data.verificationParameters=a.verificationParameters,b.data.context.accessMode=a.accessMode)}function bb(a){var b=a.g,c=J(a,'sessionFinish','native');a.c.push(c);var d=a.a.a;d&&'native'==d.adSessionType||Qa(a);b.forEach(function(e){return a.h(e.A,c.event)})}Pa.prototype.h=function(a,b){for(var c=[],d=1;d<arguments.length;++d)c[d-1]=arguments[d];try{a.apply(null,q(c))}catch(e){Oa(e)}};\nfunction cb(a,b){var c=a.a.w;var d=(d=H().i)?D(d).viewport:void 0;var e=(e=H().i)?D(e).adView:void 0;b=J(a,'impression',b,{mediaType:c,viewport:d,adView:e});a.b.push(b);Ra(a,b)}function db(a,b,c,d){'start'!==b&&'volumeChange'!==b||null!=(d&&d.deviceVolume)||(d.deviceVolume=a.a.l);'start'!==b&&'volumeChange'!==b||null==(d&&d.videoPlayerVolume)||(a.a.B=d.videoPlayerVolume);b=J(a,b,c,d);a.b.push(b);Ra(a,b)}\nfunction ab(a){var b=a.a.b,c=a.b.filter(function(f){return Object.values(y).includes(f.event.type)&&f.origin===b}).map(function(f){return f.event}),d=a.a.adSessionId||'';c=p(c);for(var e=c.next();!e.done;e=c.next()){e=e.value;e.adSessionId||(e.adSessionId=d);for(var g=p(a.f),l=g.next();!l.done;l=g.next())l=l.value,l.type===e.type&&l.A(e)}}\nfunction eb(a,b,c){a:{c=new Set(c);a=p(a.b.concat(a.c));for(var d=a.next();!d.done;d=a.next())if(d=d.value,c.has(d.event.type)&&d.origin!=b){b=!0;break a}b=!1}return b?(I('Event owner cannot be registered after its events have already been published.'),!1):!0}function fb(a,b){eb(a,b,Object.values(y))&&gb(a,b)&&(a.a.b=b,hb(a))}function ib(a,b){eb(a,b,['impression'])&&jb(a,b)&&(a.a.h=b,hb(a))}\nfunction jb(a,b){var c=a.a.h;return'none'!=c&&c!=b?(I('Impression event is owned by '+(a.a.h+', not ')+(b+'.')),!1):!0}function gb(a,b){var c=a.a.b;return'none'!=c&&c!=b?(I('Video events are owned by '+(a.a.b+', not '+b+'.')),!1):!0}function hb(a){a.a.w=null!=a.a.b&&'none'!=a.a.b?'video':'display'}function J(a,b,c,d){return new Ma({adSessionId:a.a.adSessionId||'',timestamp:(new Date).getTime(),type:b,data:d},c)}\nfunction Xa(a){a=a.event;return{adSessionId:a.adSessionId,timestamp:a.timestamp,type:a.type,data:a.data}};function kb(a,b,c){'container'===b&&void 0!==a.a.v&&void 0!==a.a&&null!=a.a.adSessionId&&(a.a.C=Ha(a.c,a.a.v,a.a.j,a.a.adSessionId));b=a.a;var d=b.C,e=b.D;if(d)if(e){b=new Ba;var g=d.i,l=d.b,f=d.a,h=e.b;e=e.a;g&&l&&f&&h&&e&&(Ca(b,g),b.j=new A(l,!1),b.l=new A(f,!1),b.g=Object.assign([],d.g),b.f=Object.assign([],d.f),b.h=Object.assign([],d.h),d=b.j.x,g=b.j.y,h=new A(h,!1),e=new A(e,!1),xa(h,d,g),xa(e,d,g),b.b=h,b.a=Ea(e,f),-1===b.h.indexOf('backgrounded')&&Ga(b))}else b=d;else b=null;f=a.a.i;if(b&&\n!b.F(f)||c)f=D(b),c&&(f.adView.reasons=f.adView.reasons||[c]),c=a.b,f=J(c,'geometryChange','native',{viewport:f.viewport,adView:f.adView}),c.b.push(f),Ra(c,f),a.a.i=b};function K(a,b,c){this.f=a;this.K=b;this.D=c;this.c=H();this.b=null;this.a=this.g=this.v=void 0;this.G=!0;this.B=void 0;L(this)}function L(a){if(!a.b){var b;a:{if((b=a.f.document)&&b.getElementsByClassName&&(b=b.getElementsByClassName('omid-element'))){if(1==b.length){b=b[0];break a}1<b.length&&a.G&&(Za(a.D,'generic',\"More than one element with 'omid-element' class name.\"),a.G=!1)}b=null}b&&(b.tagName&&'video'===b.tagName.toLowerCase()?a.c.f=b:a.c.c=b,lb(a))}}\nfunction lb(a){a.c.f?(a.b=a.c.f,a.i()):a.c.c&&(a.b=a.c.c,'iframe'===a.b.tagName.toLowerCase()?a.c.g&&a.i():a.i())}function mb(a){a.a&&(a.b.tagName&&'iframe'===a.b.tagName.toLowerCase()?a.c.g&&(a.C(),nb(a)):(a.C(),nb(a)))}K.prototype.o=function(){this.B&&(this.f.document.removeEventListener('visibilitychange',this.B),this.B=void 0)};K.prototype.i=function(){};function nb(a){a.v&&(a.c.D=a.v,kb(a.K,'creative'))}\nfunction ob(a){if(a.a&&a.c.g){var b=new A(a.c.g,!1);xa(b,a.a.x,a.a.y);b.clipsToBounds=!0;return b}};function pb(a,b,c){return qb(a,'setInterval')(b,c)}function rb(a,b){qb(a,'clearInterval')(b)}function sb(a,b){qb(a,'clearTimeout')(b)}function qb(a,b){return a.a&&a.a[b]?a.a[b]:tb(a,b)}\nfunction ub(a,b,c,d){if(a.a.document&&a.a.document.body){var e=a.a.document.createElement('img');e.width=1;e.height=1;e.style.display='none';e.src=b;c&&e.addEventListener('load',function(){return c()});d&&e.addEventListener('error',function(){return d()});a.a.document.body.appendChild(e)}else tb(a,'sendUrl')(b,c,d)}function tb(a,b){if(a.a&&a.a.omidNative&&a.a.omidNative[b])return a.a.omidNative[b].bind(a.a.omidNative);throw Error('Native interface method \"'+b+'\" not found.');};function M(a,b,c,d,e){K.call(this,a,c,e);this.l=b;this.h=void 0;this.j=d}r(M,K);M.prototype.o=function(){void 0!==this.h&&(rb(this.j,this.h),this.h=void 0);K.prototype.o.call(this)};M.prototype.i=function(){var a=this;K.prototype.i.call(this);null==this.b?this.h=void 0:void 0===this.h&&(this.h=pb(this.j,function(){return vb(a)},200),vb(this))};\nM.prototype.C=function(){if(this.g){var a=ob(this);if(a){this.a.isCreative=!1;a.isCreative=!0;for(var b=!1,c=0;c<this.a.childViews.length;c++)if(this.a.childViews[c].isCreative){this.a.childViews[c]=a;b=!0;break}b||this.a.childViews.push(a)}else this.a.isCreative=!0;this.v=Ha(this.l,this.g,this.c.j,this.c.adSessionId)}};\nfunction vb(a){if(void 0!==a.h){b:{try{var b=a.f.top;var c=0<=b.innerHeight&&0<=b.innerWidth;break b}catch(d){}c=!1}c?(c=a.f.top,c=new A(new Ja(c.innerWidth,c.innerHeight),!1)):c=new A(new Ja(0,0),!1);b=a.b.getBoundingClientRect();if(null==b.x||isNaN(b.x))b.x=b.left;if(null==b.y||isNaN(b.y))b.y=b.top;b=new A(b,!1);c.F(a.g)&&b.F(a.a)||(a.a=b,a.a.clipsToBounds=!0,a.g=c,a.g.childViews.push(a.a),mb(a))}};function N(a,b,c,d){K.call(this,a,c,d);this.w=this.s=this.j=this.l=this.h=void 0}r(N,K);N.prototype.o=function(){this.h&&this.h.disconnect();wb(this);K.prototype.o.call(this)};N.prototype.i=function(){K.prototype.i.call(this);this.b&&(this.h||(this.h=xb(this)),yb(this),zb(this.b)&&Ab(this))};\nN.prototype.C=function(){if(this.a&&this.w){var a=ob(this);if(a){var b=a;var c=this.w;var d=Math.max(a.x,c.x);var e=Math.max(a.y,c.y),g=Math.min(a.endX,c.endX);a=Math.min(a.endY,c.endY);g<=d||a<=e?d=null:(c={},d=new A((c.x=d,c.y=e,c.width=Math.abs(g-d),c.height=Math.abs(a-e),c),!1));d||(d=new A({x:0,y:0,width:0,height:0},!1))}else b=this.a,d=this.w;e=new Ba;this.g&&Ca(e,this.g);e.b=b;e.a=d;Ga(e);this.v=e}};\nfunction wb(a){a.l&&(a.l.disconnect(),a.l=void 0);a.j&&(a.j.disconnect(),a.j=void 0);a.s&&((0,a.f.removeEventListener)('resize',a.s),a.s=void 0)}function yb(a){a.h&&a.b&&(a.h.unobserve(a.b),a.h.observe(a.b))}function zb(a){a=a.getBoundingClientRect();return 0==a.width||0==a.height}\nfunction xb(a){return new a.f.IntersectionObserver(function(b){try{if(b.length){for(var c,d=b[0],e=1;e<b.length;e++)b[e].time>d.time&&(d=b[e]);c=d;a.g=Bb(c.rootBounds);a.a=Bb(c.boundingClientRect);a.w=Bb(c.intersectionRect);mb(a)}}catch(g){a.o(),Za(a.D,'generic','Problem handling IntersectionObserver callback: '+g.message)}},{root:null,rootMargin:'0px',threshold:[0,.1,.2,.3,.4,.5,.6,.7,.8,.9,1]})}\nfunction Ab(a){a.f.ResizeObserver?a.l||(a.l=Cb(a,function(){return Db(a)}),a.l.observe(a.b)):(a.s||(a.s=function(){return Db(a)},(0,a.f.addEventListener)('resize',a.s)),a.j||(a.j=new MutationObserver(function(){return Db(a)}),a.j.observe(a.b,{childList:!1,attributes:!0,subtree:!1})))}function Db(a){a.b&&!zb(a.b)&&(yb(a),wb(a))}function Cb(a,b){return new a.f.ResizeObserver(b)}function Bb(a){if(a&&null!==a.x&&null!==a.y&&null!==a.width&&null!==a.height)return new A(a,!1)};function O(a){return'object'===typeof a}function Eb(a){return'number'===typeof a&&!isNaN(a)&&0<=a}function P(a){return'string'===typeof a}function S(a,b){return P(a)&&-1!==Object.values(b).indexOf(a)};function Gb(a){return a&&O(a)?Object.entries(a).reduce(function(b,c){var d=p(c);c=d.next().value;d=d.next().value;return b&&P(c)&&null!=d&&O(d)&&P(d.resourceUrl)},!0):!1};function T(a,b,c,d){this.b=a;this.method=b;this.version=c;this.a=d}function Hb(a){return!!a&&void 0!==a.omid_message_guid&&void 0!==a.omid_message_method&&void 0!==a.omid_message_version&&'string'===typeof a.omid_message_guid&&'string'===typeof a.omid_message_method&&'string'===typeof a.omid_message_version&&(void 0===a.omid_message_args||void 0!==a.omid_message_args)}function Ib(a){return new T(a.omid_message_guid,a.omid_message_method,a.omid_message_version,a.omid_message_args)}\nfunction Jb(a){var b={};b=(b.omid_message_guid=a.b,b.omid_message_method=a.method,b.omid_message_version=a.version,b);void 0!==a.a&&(b.omid_message_args=a.a);return b};function Kb(a){this.c=a};function U(a){this.c=a;this.handleExportedMessage=U.prototype.f.bind(this)}r(U,Kb);U.prototype.b=function(a,b){b=void 0===b?this.c:b;if(!b)throw Error('Message destination must be defined at construction time or when sending the message.');b.handleExportedMessage(Jb(a),this)};U.prototype.f=function(a,b){Hb(a)&&this.a&&this.a(Ib(a),b)};var Lb=eval('this'),V=function(){if('undefined'!==typeof omidGlobal&&omidGlobal)return omidGlobal;if('undefined'!==typeof global&&global)return global;if('undefined'!==typeof window&&window)return window;if('undefined'!==typeof Lb&&Lb)return Lb;throw Error('Could not determine global object context.');}();function Mb(a,b){this.c=b=void 0===b?V:b;var c=this;a.addEventListener('message',function(d){if('object'===typeof d.data){var e=d.data;Hb(e)&&d.source&&c.a&&c.a(Ib(e),d.source)}})}r(Mb,Kb);Mb.prototype.b=function(a,b){b=void 0===b?this.c:b;if(!b)throw Error('Message destination must be defined at construction time or when sending the message.');b.postMessage(Jb(a),'*')};function Nb(){return'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g,function(a){var b=16*Math.random()|0;return'y'===a?(b&3|8).toString(16):b.toString(16)})};function Ob(a){if(!a.b||!a.b.document)throw Error('OMID Service Script is not running within a window.');var b=a.a;a.a=[];b.forEach(function(c){var d=a.c.s?'limited':'full';var e=S(c.accessMode,sa)?c.accessMode:null;d=e?'full'==e&&'limited'==d?d:e:d;c.accessMode=d;e='full'!=d;d=Nb();var g=c.resourceUrl,l=a.b.document,f=l.createElement('iframe');e&&(f.sandbox='allow-scripts');f.id='omid-verification-script-frame-'+d;f.style.display='none';f.srcdoc=\"<html><head>\\n<script type=\\\"text/javascript\\\">window['omidVerificationProperties'] = {\\n'serviceWindow': window.parent,\\n'injectionId': '\"+\n(d+'\\',\\n};\\x3c/script>\\n<script type=\"text/javascript\" src=\"')+g.replace(/\"/g,'&quot;')+'\">\\x3c/script>\\n</head><body></body></html>';l.body.appendChild(f);e=c.vendorKey;g=c.verificationParameters;e=void 0===e?'':e;g=void 0===g?'':g;e&&'string'===typeof e&&''!==e&&g&&'string'===typeof g&&''!==g&&(a.f.i[e]=g);a.c.o.set(d,c)})};function Pb(){var a=Qb,b=Rb,c=this;this.b=X;this.a=a;this.c=H();this.g=b;this.f=!1;this.registerSessionObserver(function(d){return Sb(c,d)})}n=Pb.prototype;n.registerSessionObserver=function(a){Wa(this.b,a)};n.setSlotElement=function(a){this.c.c=a;this.a&&lb(this.a)};n.setElementBounds=function(a){this.c.g=a;this.a&&lb(this.a);this.a&&mb(this.a)};n.error=function(a,b){Za(this.b,a,b)};n.registerAdEvents=function(){ib(this.b,'javascript')};\nfunction Y(a,b,c){'impression'==b?jb(a.b,'javascript')&&(cb(a.b,'javascript'),a.a&&L(a.a)):(gb(a.b,'javascript')&&db(a.b,b,'javascript',c),['loaded','start'].includes(b)&&a.a&&L(a.a))}n.injectVerificationScriptResources=function(a){var b=this.g;b.a.push.apply(b.a,q(a));if(this.f)try{Ob(this.g)}catch(c){I(c.message)}};\nfunction Sb(a,b){if('sessionStart'===b.type){a.f=!0;try{Ob(a.g)}catch(c){I(c.message)}}'sessionFinish'===b.type&&(a.f=!1,(b=H().a)&&'native'==b.adSessionType||a.registerSessionObserver(function(c){return Sb(a,c)}))}n.setClientInfo=function(a,b,c){var d=this.c.a||{};d.omidJsInfo=Object.assign({},d.omidJsInfo,{sessionClientVersion:a,partnerName:b,partnerVersion:c});this.c.a=d;return this.c.a.omidJsInfo.serviceVersion};function Tb(a){return/\\d+\\.\\d+\\.\\d+(-.*)?/.test(a)}function Ub(a){a=a.split('-')[0].split('.');for(var b=['1','0','3'],c=0;3>c;c++){var d=parseInt(a[c],10),e=parseInt(b[c],10);if(d>e)break;else if(d<e)return!1}return!0};function Vb(a,b){return Tb(a)&&Ub(a)?b?b:[]:b&&'string'===typeof b?JSON.parse(b):[]};function Wb(){var a=Xb;var b=void 0===b?omidGlobal:b;this.a=a;this.f=b;this.b=new U;this.f.omid=this.f.omid||{};this.f.omid.v1_SessionServiceCommunication=this.b;this.c=b&&b.addEventListener&&b.postMessage?new Mb(b):null;this.g=null;this.b.a=this.h.bind(this);this.c&&(this.c.a=this.i.bind(this))}Wb.prototype.h=function(a,b){Yb(this,a,b,this.b)};\nWb.prototype.i=function(a,b){this.g||(this.g=b);this.g!=b?I('The source window of session client post messages cannot be changed from the source of the first message.'):Yb(this,a,b,this.c)};\nfunction Yb(a,b,c,d){function e(h){for(var k=[],m=0;m<arguments.length;++m)k[m]=arguments[m];k=new T(g,'response',f,Tb(f)&&Ub(f)?k:JSON.stringify(k));d.b(k,c)}var g=b.b,l=b.method,f=b.version;b=Vb(f,b.a);try{Zb(a,l,e,b)}catch(h){d.b(new T(g,'error',f,'\\n        name: '+h.name+'\\n        message: '+h.message+'\\n        filename: '+h.filename+'\\n        lineNumber: '+h.lineNumber+'\\n        columnNumber: '+h.columnNumber+'\\n        stack: '+h.stack+'\\n        toString(): '+h.toString()),c)}}\nfunction Zb(a,b,c,d){switch(b){case 'SessionService.registerAdEvents':a.a.registerAdEvents();break;case 'SessionService.registerVideoEvents':fb(a.a.b,'javascript');break;case 'SessionService.registerSessionObserver':a.a.registerSessionObserver(c);break;case 'SessionService.setSlotElement':c=p(d).next().value;a.a.setSlotElement(c);break;case 'SessionService.setVideoElement':c=p(d).next().value;a=a.a;a.c.f=c;a.a&&lb(a.a);break;case 'SessionService.setElementBounds':c=p(d).next().value;a.a.setElementBounds(c);\nbreak;case 'SessionService.startSession':I('Session start from JS is not supported in mobile app.');break;case 'SessionService.finishSession':I('Session finish from JS is not supported in mobile app.');break;case 'SessionService.impressionOccurred':Y(a.a,'impression');break;case 'SessionService.loaded':c=p(d).next().value;b={skippable:c.isSkippable,autoPlay:c.isAutoPlay,position:c.position};c.isSkippable&&(b.skipOffset=c.skipOffset);Y(a.a,'loaded',b);break;case 'SessionService.start':b=p(d);c=b.next().value;\nb=b.next().value;Y(a.a,'start',{duration:c,videoPlayerVolume:b});break;case 'SessionService.firstQuartile':Y(a.a,'firstQuartile');break;case 'SessionService.midpoint':Y(a.a,'midpoint');break;case 'SessionService.thirdQuartile':Y(a.a,'thirdQuartile');break;case 'SessionService.complete':Y(a.a,'complete');break;case 'SessionService.pause':Y(a.a,'pause');break;case 'SessionService.resume':Y(a.a,'resume');break;case 'SessionService.bufferStart':Y(a.a,'bufferStart');break;case 'SessionService.bufferFinish':Y(a.a,\n'bufferFinish');break;case 'SessionService.skipped':Y(a.a,'skipped');break;case 'SessionService.volumeChange':c={videoPlayerVolume:p(d).next().value};Y(a.a,'volumeChange',c);break;case 'SessionService.playerStateChange':c={state:p(d).next().value};Y(a.a,'playerStateChange',c);break;case 'SessionService.adUserInteraction':c={interactionType:p(d).next().value};Y(a.a,'adUserInteraction',c);break;case 'SessionService.setClientInfo':var e=p(d);b=e.next().value;d=e.next().value;e=e.next().value;a=a.a.setClientInfo(b,\nd,e);c(a);break;case 'SessionService.injectVerificationScriptResources':c=p(d).next().value;a.a.injectVerificationScriptResources(c);break;case 'SessionService.sessionError':b=p(d),c=b.next().value,b=b.next().value,a.a.error(c,b)}};function Z(){var a=X,b=$b,c=ac,d=Qb;this.g=Xb;this.a=a;this.c=b;this.h=c;this.f=d;this.b=H()}n=Z.prototype;n.N=function(a){if(a&&O(a)&&S(a.impressionOwner,qa)&&(!('videoEventsOwner'in a&&null!=a.videoEventsOwner)||S(a.videoEventsOwner,qa))){var b=a.impressionOwner,c=a.videoEventsOwner;a&&null!=a.isolateVerificationScripts&&'boolean'===typeof a.isolateVerificationScripts&&(this.b.s=a.isolateVerificationScripts);ib(this.a,b);fb(this.a,c)}};\nn.R=function(a,b,c,d){var e;if(O(b)){if(e=S(b.environment,ua)&&S(b.adSessionType,pa))e=b.omidNativeInfo,e=O(e)?P(e.partnerName)&&P(e.partnerVersion):!1;e&&(e=b.app,e=O(e)?P(e.libraryVersion)&&P(e.appId):!1)}else e=!1;e&&(Gb(d)&&(this.b.o=new Map(Object.entries(d))),d=this.g,c=void 0===c?null:c,null==a&&(a=Nb()),d.c.adSessionId=a,a=d.c,e=a.a||{},b.omidJsInfo=Object.assign({},e.omidJsInfo||{},b.omidJsInfo||{}),e=b=Object.assign({},e,b),a.s||(null!=a.f?(e.videoElement=a.f,e.accessMode='full'):null!=\na.c&&(e.slotElement=a.c,e.accessMode='full')),a.a=b,$a(d.b,c),d.a&&L(d.a))};n.O=function(){var a=this.g;bb(a.b);a.a.o()};n.U=function(a){O(a)&&Eb(a.x)&&Eb(a.y)&&Eb(a.width)&&Eb(a.height)&&(this.b.v=a,kb(this.c,'container'))};n.V=function(a){S(a,ta)&&(this.b.j=a,'backgrounded'===a?kb(this.c,'container','backgrounded'):kb(this.c,'container'))};n.S=function(a){'impression'===a&&(this.I(),this.f&&L(this.f))};n.I=function(){jb(this.a,'native')&&cb(this.a,'native')};\nn.error=function(a,b){S(a,oa)&&Za(this.a,a,b)};n.P=function(a,b){gb(this.a,'native')&&S(a,y)&&(void 0===b||O(b))&&db(this.a,a,'native',b)};n.T=function(a){if('none'!==this.a.a.b&&'number'===typeof a&&!isNaN(a)){this.b.l=a;a=this.h;var b=a.a.B;null!=b&&db(a.b,'volumeChange','native',{videoPlayerVolume:b,deviceVolume:a.a.l})}};Z.prototype.startSession=Z.prototype.R;Z.prototype.error=Z.prototype.error;Z.prototype.finishSession=Z.prototype.O;Z.prototype.publishAdEvent=Z.prototype.S;\nZ.prototype.publishImpressionEvent=Z.prototype.I;Z.prototype.publishVideoEvent=Z.prototype.P;Z.prototype.setNativeViewHierarchy=Z.prototype.U;Z.prototype.setState=Z.prototype.V;Z.prototype.setDeviceVolume=Z.prototype.T;Z.prototype.init=Z.prototype.N;function bc(){var a=X,b=cc;var c=void 0===c?V:c;this.g=a;this.a=b;this.h={};this.f={};this.c=new U;c.omid=c.omid||{};c.omid.v1_VerificationServiceCommunication=this.c;this.b=null;c&&c.addEventListener&&c.postMessage&&(this.b=new Mb(c));this.c.a=this.i.bind(this);this.b&&(this.b.a=this.j.bind(this))}function dc(a,b,c,d){ub(a.a,b,c,d)}function ec(a,b,c,d){tb(a.a,'downloadJavaScriptResource')(b,c,d)}bc.prototype.j=function(a,b){this.b&&fc(this,a,b,this.b)};bc.prototype.i=function(a,b){fc(this,a,b,this.c)};\nfunction fc(a,b,c,d){function e(B){for(var W=[],ka=0;ka<arguments.length;++ka)W[ka]=arguments[ka];W=new T(g,'response',f,Tb(f)&&Ub(f)?W:JSON.stringify(W));d.b(W,c)}var g=b.b,l=b.method,f=b.version;b=Vb(f,b.a);try{switch(l){case 'VerificationService.addEventListener':var h=p(b).next().value;Ua(a.g,h,e);break;case 'VerificationService.addSessionListener':var k=p(b),m=k.next().value,z=k.next().value;Wa(a.g,e,m,z);break;case 'VerificationService.sendUrl':var ra=p(b).next().value;dc(a,ra,function(){return e(!0)},\nfunction(){return e(!1)});break;case 'VerificationService.setTimeout':var Q=p(b),R=Q.next().value,E=Q.next().value;a.h[R]=qb(a.a,'setTimeout')(e,E);break;case 'VerificationService.clearTimeout':var kc=p(b).next().value;sb(a.a,a.h[kc]);break;case 'VerificationService.setInterval':var Fb=p(b),lc=Fb.next().value,mc=Fb.next().value;a.f[lc]=pb(a.a,e,mc);break;case 'VerificationService.clearInterval':var nc=p(b).next().value;rb(a.a,a.f[nc]);break;case 'VerificationService.injectJavaScriptResource':var oc=\np(b).next().value;ec(a,oc,function(B){return e(!0,B)},function(){return e(!1)});break;case 'VerificationService.getVersion':p(b).next();var pc=H().a.omidJsInfo;e(pc.serviceVersion)}}catch(B){d.b(new T(g,'error',f,'\\n              name: '+B.name+'\\n              message: '+B.message+'\\n              filename: '+B.filename+'\\n              lineNumber: '+B.lineNumber+'\\n              columnNumber: '+B.columnNumber+'\\n              stack: '+B.stack+'\\n              toString(): '+B.toString()+'\\n          '),\nc)}};function gc(){var a=V.document.createElement('iframe');a.id='omid_v1_present';a.name='omid_v1_present';a.style.display='none';V.document.body.appendChild(a)}function hc(){var a=new MutationObserver(function(b){b.forEach(function(c){'BODY'===c.addedNodes[0].nodeName&&(gc(),a.disconnect())})});a.observe(V.document.documentElement,{childList:!0})};var X=new Pa,cc=new function(){var a;this.a=a=void 0===a?omidGlobal:a};new bc;var ic=new function(){},jc=new function(){},$b=new function(){this.b=X;this.c=jc;this.a=H()},qc;V?qc=V.IntersectionObserver&&(V.MutationObserver||V.ResizeObserver)?new N(V,ic,$b,X):new M(V,jc,$b,cc,X):qc=null;var Qb=qc,Rb=new function(){var a=X;var b=void 0===b?V:b;this.f=a;this.b=b;this.c=H();this.a=[]},Xb=new Pb,ac=new function(){var a=X,b=H();this.b=a;this.a=b};V.omidBridge=new Z;new Wb;\nif(V.frames&&V.document&&!('omid_v1_present'in V.frames)){var rc;if(rc=null==V.document.body)rc='MutationObserver'in V;rc?hc():V.document.body?gc():V.document.write('<iframe style=\"display:none\" id=\"omid_v1_present\" name=\"omid_v1_present\"></iframe>')};\n}).call(this, this);";
   }

   public static boolean a(Context var0) {
      try {
         if (!a) {
            a = Omid.activateWithOmidApiVersion(Omid.getVersion(), var0);
         }
      } catch (IllegalArgumentException var2) {
         var2.printStackTrace();
      }

      return a;
   }

   protected static Partner b() {
      if (b == null) {
         b = Partner.createPartner("adFalcon", "5.2.0");
      }

      return b;
   }
}
